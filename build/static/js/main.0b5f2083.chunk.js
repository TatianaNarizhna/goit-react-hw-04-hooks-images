(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(4),o=c.n(r),s=(c(15),c(16),c(9)),i=c(3),u=c(7);c(17);var l={fetchSearch:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=21902781-05f70a6abac1a4120ac7c9ed1&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Request ".concat(e," not found")))}))}},j=c(1);function m(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],o=a[1],s=function(){o("")};return Object(j.jsx)("div",{children:Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===r.trim())return u.b.error("Enter correct request!");t(r),s()},className:"SearchForm",children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",value:r,autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})})}var b=function(e){var t=e.id,c=e.webformatURL,n=e.largeImageURL;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:c,alt:"img",className:"ImageGalleryItem-image","data-img":n})},t)},d=c.p+"static/media/default.2e01288c.jpg",h=function(e){var t=e.images,c=e.onImgClick;return Object(j.jsx)("ul",{className:"ImageGallery",onClick:c,children:t.map((function(e){var t=e.id,c=e.webformatURL,n=e.largeImageURL;return Object(j.jsx)(b,{webformatURL:c,largeImageURL:n},t)}))})};h.defaultProps={webformatURL:d};var f=h,O=function(e){var t=e.onClick;return Object(j.jsx)("div",{className:"Absolute-Center ",children:Object(j.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})})},g=document.querySelector("#modal-root");function p(e){var t=e.onClose,c=e.modalImg.modalImg;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:c,alt:""})})}),g)}var v=c(10),x=c.n(v),S=function(){return Object(j.jsx)("div",{className:"Spinner",children:Object(j.jsx)(x.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})};function w(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),b=o[0],d=o[1],h=Object(n.useState)(1),g=Object(i.a)(h,2),v=g[0],x=g[1],w=Object(n.useState)(!1),k=Object(i.a)(w,2),y=k[0],I=k[1],C=Object(n.useState)(null),N=Object(i.a)(C,2),L=N[0],E=N[1],F=Object(n.useState)(!1),R=Object(i.a)(F,2),U=R[0],T=R[1],q=Object(n.useState)(""),G=Object(i.a)(q,2),B=G[0],M=G[1];Object(n.useEffect)((function(){""!==c&&P()}),[c]);var P=function(){I(!0),l.fetchSearch(c,v).then((function(e){var t=e.hits;d((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),x((function(e){return e+1})),b.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return E(e)})).finally((function(){return I(!1)}))},D=function(){T((function(e){return!e}))};return Object(j.jsxs)("div",{children:[y&&Object(j.jsx)(S,{}),L&&Object(j.jsx)("p",{children:L.message}),Object(j.jsx)(u.a,{position:"top-center",autoClose:2e3,newestOnTop:!1,closeOnClick:!0,rtl:!1}),Object(j.jsx)(m,{onSubmit:function(e){e!==c&&(a(e),x(1),d([]),E(null))}}),Object(j.jsx)(f,{images:b,onImgClick:function(e){"IMG"===e.target.nodeName&&(M({modalImg:e.target.dataset.img}),D())}}),b.length>0&&!y&&Object(j.jsx)(O,{onClick:P}),U&&Object(j.jsx)(p,{modalImg:B,onClose:D})]})}o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0b5f2083.chunk.js.map